CMAKE_MINIMUM_REQUIRED(VERSION 2.8)

PROJECT(archive CXX)

SET(DEPENDENCIES_DIR CACHE PATH "")

# hint to find qt in dependencies path
FILE(GLOB_RECURSE QT5_FIND_MODULE ${DEPENDENCIES_DIR}/qt5.git/qtbase/bin/qmake.exe)
GET_FILENAME_COMPONENT(QT5_FIND_MODULE ${QT5_FIND_MODULE} DIRECTORY)
GET_FILENAME_COMPONENT(QT5_FIND_MODULE ${QT5_FIND_MODULE} DIRECTORY)
LIST(APPEND CMAKE_PREFIX_PATH ${QT5_FIND_MODULE}/lib/cmake)

FILE(GLOB_RECURSE BOOST_ROOT ${DEPENDENCIES_DIR}/boost*/project-config.jam)
GET_FILENAME_COMPONENT(BOOST_ROOT ${BOOST_ROOT} DIRECTORY)

FILE(GLOB_RECURSE SEVENZIP_ROOT ${DEPENDENCIES_DIR}/7z*/C/7z.h)
GET_FILENAME_COMPONENT(SEVENZIP_ROOT ${SEVENZIP_ROOT} DIRECTORY)
GET_FILENAME_COMPONENT(SEVENZIP_ROOT ${SEVENZIP_ROOT} DIRECTORY)

MESSAGE(STATUS "7z root : ${SEVENZIP_ROOT}")

ADD_SUBDIRECTORY(src)